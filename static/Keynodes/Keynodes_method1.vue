<template>
  <div>
    <el-row>
      <h2>ä¸€ã€å…³é”®èŠ‚ç‚¹é€‰æ‹©ç»“æœ</h2>
      <el-col :span="14">
      <div id="chart1" style="width:auto;height:600px;"></div>
      </el-col>
      <el-col :span="9">
        <div style="width:auto;height:600px;">
          <p style="font-size: 18px;font-weight:bold;">å±•ç¤ºè¯´æ˜</p>
          <p style="font-size: 18px">æ•°æ®é›†ï¼šåœ¨ä¹±æ¸¯äº‹ä»¶ä¸‹â€œè«é›·ä¸å½“è¨€è®ºâ€ä¸»é¢˜ä¸­ï¼Œé€‰å–2019-10-18 00:00:00 åˆ° 2019-10-20 23:59:59 ä¸‰å¤©å…±è®¡ 4320 åˆ†é’Ÿçš„å…¨éƒ¨å¾®åšä¿¡æ¯ï¼Œå…±4765åç”¨æˆ·å‚ä¸ï¼Œ
            ç”Ÿæˆè¯¥ç½‘ç»œçš„æ‹“æ‰‘å›¾å¦‚å·¦å›¾æ‰€ç¤ºã€‚</p>
          <p style="font-size: 18px">å®ç°åŠŸèƒ½ï¼šé‡ç‚¹è€ƒè™‘äº†ç¤¾äº¤ç½‘ç»œä¿¡æ¯ä¼ æ’­çš„åŠ¨æ€æ€§ç‰¹å¾ï¼Œä»ä¸­æ‰¾åˆ°ä¸€æ‰¹å¯¹ä¼ æ’­è¿‡ç¨‹æœ‰è´¡çŒ®å¹¶ä¸”æ˜“äºå¼•å¯¼çš„å…³é”®èŠ‚ç‚¹ï¼ˆçº¢è‰²ç”¨æˆ·ï¼‰ï¼Œå…±50ä½ã€‚</p>
          <p style="font-size: 18px">èŠ‚ç‚¹é€‰æ‹©å‡†ç¡®ç‡ï¼š</p>
          <p style="font-size: 18px">å®šä¹‰å¾®åšæœ‰è¢«è½¬å‘ä¸”ç²‰ä¸æ•°â‰¥100çš„ç”¨æˆ·ä¸ºåˆæ ¼èŠ‚ç‚¹;</p>
          <p style="font-size: 18px"> èŠ‚ç‚¹é€‰æ‹©å‡†ç¡®ç‡ = å…³é”®èŠ‚ç‚¹ä¸­çš„åˆæ ¼èŠ‚ç‚¹ / å…³é”®èŠ‚ç‚¹æ•°;</p>
          <p style="font-size: 18px"> 50ä½å…³é”®èŠ‚ç‚¹ç”¨æˆ·ä¸­å…±æœ‰36ä½ä¸ºåˆæ ¼èŠ‚ç‚¹ï¼ŒèŠ‚ç‚¹é€‰æ‹©å‡†ç¡®ç‡ä¸ºï¼š72%</p>
        </div>
      </el-col>

    </el-row>
    <el-row>
      <h2>äºŒã€ç®—æ³•æ€§èƒ½è¯„ä¼°</h2>
      <el-col :span="12">
      <h3 style="text-align:center;">éš”ç¦»50ä¸ªæœ€ä¼˜èŠ‚ç‚¹åçš„ä»¿çœŸä¼ æ’­</h3>
        <div id="chart2" style="width:auto;height:700px;"></div>
      </el-col>

      <el-col :span="11">
      <h3 style="text-align:center;">å…³é”®èŠ‚ç‚¹é€‰æ‹©ç®—æ³•æ•ˆæœ</h3>
        <el-table
          :data="tableData1"
          border
          style="width: 100%">
          <el-table-column
            prop="ID"
            label="åºå·"
            width="90">
          </el-table-column>
          <el-table-column
            prop="Number"
            label="èŠ‚ç‚¹æ•°ç›®"
            width="120">
          </el-table-column>
          <el-table-column
            prop="v"
            label="ğ›¥(ğ‘£)"
            width="120">
          </el-table-column>
          <el-table-column
            prop="Node_degree"
            label="èŠ‚ç‚¹åº¦ä¹‹å’Œ"
            width="120">
          </el-table-column>
          <el-table-column
            prop="Node_decrease"
            label="ä¼ æ’­èŠ‚ç‚¹å‡å°‘é‡"
            width="120">
          </el-table-column>
          <el-table-column
            prop="Benefit_cost"
            label="æ”¶ç›Šæˆæœ¬æ¯”ç‡">
          </el-table-column>
        </el-table>
        <h3 style="text-align:center;">ç®—æ³•ç»¼åˆæ€§èƒ½è¯„ä¼°</h3>
        <el-table
          :data="tableData2"
          border
          style="width: 100%">
          <el-table-column
            prop="Method"
            label="èŠ‚ç‚¹é€‰æ‹©æ–¹æ³•"
            width="200">
          </el-table-column>
          <el-table-column
            prop="Earnings"
            label="éš”ç¦»æ”¶ç›Š"
            width="180">
          </el-table-column>
          <el-table-column
            prop="Costs"
            label="éš”ç¦»æˆæœ¬"
            width="170">
          </el-table-column>
          <el-table-column
            prop="Efficiency"
            label="æ•ˆç‡"
            width="180">
          </el-table-column>
        </el-table>


      </el-col>

    </el-row>
    <el-row>
      <div style="margin-left:10%;margin-top:100px">
        <p style="font-size: 18px;font-weight:bold;">å±•ç¤ºè¯´æ˜</p>
    <p style="font-size: 18px">éš”ç¦» 50 ä¸ªæ•ˆç‡æœ€ä¼˜èŠ‚ç‚¹åï¼Œä¼ æ’­èŠ‚ç‚¹æ•°ç›®æ•´ä½“å‘ˆå‡å°‘è¶‹åŠ¿ï¼Œåœ¨ä¼ æ’­ç»“æŸçš„æ—¶åˆ»ï¼Œä¼ æ’­èŠ‚ç‚¹å‡å°‘äº† 116 ä¸ªã€‚</p>
    <p style="font-size: 18px">ä¸ç½‘ç»œä¸­å…¶å®ƒå››ä¸ªèŠ‚ç‚¹åº¦ä¸å…³é”®èŠ‚ç‚¹é›†åˆğ‘„ä¸­æ‰€æœ‰èŠ‚ç‚¹åº¦ä¹‹å’Œç›¸è¿‘çš„èŠ‚ç‚¹è¿›è¡Œå¯¹æ¯”è¯•éªŒï¼Œæœ€ä¼˜æ•ˆç‡æ³•åœ¨éš”ç¦»æ•ˆç‡ä¸Šè¿œè¿œé«˜äºå•èŠ‚ç‚¹çš„éš”ç¦»ã€‚</p>
    <p style="font-size: 18px">ä¸å‡ ä¸ªç»å…¸ç®—æ³•ä½œå¯¹æ¯”å®éªŒï¼Œè€ƒè™‘æ•ˆç‡è¿™ä¸ªåœ¨å¼•å¯¼è¿‡ç¨‹ä¸­çš„å…³é”®å› ç´ ï¼Œæœ€æœ‰æ•ˆç‡ç®—æ³•æ€§èƒ½æ¯”å…¶ä»–æ–¹æ³•æ›´ä¼˜ã€‚</p>
    </div>
    </el-row>
  </div>
</template>

<script>

export default {

  data(){
    return{
      option1:'',
      myChart1:'',
      option2:'',
      myChart2:'',
      option3:'',
      myChart3:'',
      keynodes:'',
      connectioncase:'',

      tableData1: [
        {
        ID:'1',
        Number:'50(Q)',
        v:'+3.86',
        Node_degree:'144',
        Node_decrease:'116',
        Benefit_cost:0.81
      },
        {
      ID:'2',
      Number:'1(140)',
      v:'-1.88',
      Node_degree:'168',
      Node_decrease:'5',
      Benefit_cost:'0.03'
    },
        {
      ID:'3',
      Number:'1(302)',
      v:'-1.75',
      Node_degree:'143',
      Node_decrease:'6',
      Benefit_cost:'0.04'
    },
    {
      ID:'4',
      Number:'1(1088',
      v:'-1.58',
      Node_degree:'133',
      Node_decrease:'7',
      Benefit_cost:'0.05'
    },
    {
      ID:'5',
      Number:'1(123)',
      v:'-1.12',
      Node_degree:'72',
      Node_decrease:'35',
      Benefit_cost:'0.49',
    },],
      tableData2:[
        {
          Method:'DC',
          Earnings:'2599',
          Costs:'13355',
          Efficiency:'0.26'
        },
        {
          Method:'BC',
          Earnings:'1573',
          Costs:'10007',
          Efficiency:'0.15'
        },
        {
          Method:'CC',
          Earnings:'2918',
          Costs:'10777',
          Efficiency:'0.22'
        },

        {
          Method:'PageRank',
          Earnings:'2954',
          Costs:'12469',
          Efficiency:'0.24'
        },
        {
          Method:'DegreeDiscount',
          Earnings:'880',
          Costs:'1392',
          Efficiency:'0.63'
        },
        {
          Method:'æœ´ç´ è´ªå¿ƒç®—æ³•',
          Earnings:'1042',
          Costs:'5825',
          Efficiency:'0.18'
        },
        {
          Method:'æœ€ä¼˜æ•ˆç‡èŠ‚ç‚¹é€‰æ‹©ç®—æ³•',
          Earnings:'116',
          Costs:'144',
          Efficiency:'0.81'
        },
      ]
    }
  },
  methods:{
    myEcharts1() {

      this.myChart1 = this.$echarts.init(document.getElementById('chart1'));
      this.myChart1.showLoading();

      this.myChart1.hideLoading();

        this.option1 = {
          legend: {
            orient: 'vertical',
            x:'10%',
            y:'5%',
            data: ['å…³é”®èŠ‚ç‚¹', 'å…¶å®ƒ']
          },
          series: [{
            type: 'graph',
            layout: 'force',
            animation: false,
            label: {
              position: 'right',
              formatter: '{b}'
            },
            draggable: true,
            data: this.connectioncase.nodes.map(function (node, idx) {
              node.id = idx;
              return node;
            }),
            categories: this.connectioncase.categories,
            force: {
              edgeLength: 5,
              repulsion: 20,
              gravity: 0.2
            },
            edges: this.connectioncase.links
          }]
        };

        this.myChart1.setOption(this.option1);




    },

    myEcharts2() {
      this.myChart2 = this.$echarts.init(document.getElementById('chart2'));
      function randomData1(n) {
        var time = new Date(then +n*oneminutes);

        return {
          name: time.toString(),
          value: [
            time,
            nodes1[n]
          ]
        };
      }
      function randomData2(j) {
        var time = new Date(then +j*oneminutes);

        return {
          name: time.toString(),
          value: [
            time,
            nodes2[j]
          ]
        };
      }
      function randomData3(k) {
        var time = new Date(then +k*oneminutes);

        return {
          name: time.toString(),
          value: [
            time,
            nodes3[k]
          ]
        };
      }
      function randomData4(l) {
        var time = new Date(then +l*oneminutes);

        return {
          name: time.toString(),
          value: [
            time,
            nodes4[l]
          ]
        };
      }
      function randomData0(m) {
        var time = new Date(then +m*oneminutes);

        return {
          name: time.toString(),
          value: [
            time,
            nodes0[m]
          ]
        };
      }

      var nodes0 =this.keynodes.nodes;
      var nodes1 =this.keynodes.nodes1;
      var nodes2 =this.keynodes.nodes2;
      var nodes3 =this.keynodes.nodes3;
      var nodes4 =this.keynodes.nodes4;

      var data1 = [];
      var oneminutes = 60000;
      var then = +new Date(2019, 9, 18,0,0);

      for (var n = 0; n < 4320; n++) {
        data1.push(randomData1(n));
      }

      var data2 = [];
      for (var j = 0; j < 4320; j++) {
        data2.push(randomData2(j));
      }

      var data3 = [];
      for (var k = 0; k < 4320; k++) {
        data3.push(randomData3(k));
      }

      var data4 = [];
      for (var l = 0; l < 4320; l++) {
        data4.push(randomData4(l));
      }
      var data0 = [];
      for (var m = 0; m < 4320; m++) {
        data0.push(randomData0(m));
      }

      this.option2 = {

        tooltip: {
          trigger: 'axis'
        },
        legend: {
          orient: 'vertical',
          x:'40%',
          y:'10%',
          data: ['æœ€ä¼˜æ•ˆç‡æ³•','èŠ‚ç‚¹123', 'èŠ‚ç‚¹1088','èŠ‚ç‚¹302', 'èŠ‚ç‚¹140'],
          borderWidth:1,
          borderColor: "rgba(26, 24, 24, 0.99)",
        },
        xAxis: {
          name: 'æ—¶é—´',
          type: 'time',

          splitLine: {
            show: false
          },
          axisLine: {onZero: false}
        },
        yAxis: {
          name:'ä¼ æ’­èŠ‚ç‚¹çš„å‡å°‘é‡',
          type: 'value',
          max:120,
          boundaryGap: [0, '100%'],
          splitLine: {
            show: false
          }
        },
        series: [
          {
            name: 'æœ€ä¼˜æ•ˆç‡æ³•',
            type: 'line',
            showSymbol: false,
            hoverAnimation: false,
            data: data0
          },
          {
          name: 'èŠ‚ç‚¹123',
          type: 'line',
          showSymbol: false,
          hoverAnimation: false,
          data: data1
        },
          {
            name: 'èŠ‚ç‚¹1088',
            type: 'line',
            showSymbol: false,
            hoverAnimation: false,
            data: data2
          },
          {
            name: 'èŠ‚ç‚¹302',
            type: 'line',
            showSymbol: false,
            hoverAnimation: false,
            data: data3
          },
          {
            name: 'èŠ‚ç‚¹140',
            type: 'line',
            showSymbol: false,
            hoverAnimation: false,
            data: data4
          }
        ]
      };
      this.myChart2.setOption(this.option2)



    },





  },
  mounted() {
    this.keynodes = require('../../../static/Keynodes/nodes.json');
    this.connectioncase = require('../../../static/Keynodes/webkit-dep.json');
    this.myEcharts1();
    this.myEcharts2();
  }
}
</script>
<style>
</style>

